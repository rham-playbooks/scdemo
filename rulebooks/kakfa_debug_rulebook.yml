---
- name: Respond to Alert Manager alerts
  hosts: all
  execution_strategy: parallel
  sources:
    - name: Listen for alerts on kafka topic
      ansible.eda.kafka:
        host: ec2-52-16-111-5.eu-west-1.compute.amazonaws.com
        port: 9094
        topic: summit-connect
        group_id: eda-selinux
      filters:
        - ansible.eda.json_filter:
        - ansible.eda.normalize_keys:
  rules:
    - name: Output whole event
      condition: event.meta is defined
      action:
        print_event: